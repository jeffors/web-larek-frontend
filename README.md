# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура приложения
Код приложения использует MVP-архитектуру (Model-View-Presenter), где:
- **Model** (слой данных) - отвечает за хранение и изменение данных.
- **View** (слой отображения) - отвечает за отображение данных на странице.
- **Presenter** - отвечает за связь между слоем данных и слоем отображения.

### Базовый код
#### Класс Api
Содержит в себе базовую логику отправки запросов. В конструктор передается базовый адрес сервера и опциональный объект с заголовками запросов.
Методы: 
- `get` - выполняет GET запрос на переданный в параметрах эндпоинт и возвращает промис с объектом, которым ответил сервер/
- `post` - принимает объект с данными, которые будут переданы в JSON в теле запроса, и отправляет эти данные на эндпоинт переданный как параметр при вызове метода. По умолчанию выполняется `POST` запрос, но метод запроса может быть переопределен заданием третьего параметра при вызове.

#### Класс EventEmitter
Брокер событий позволяет отправлять события и подписываться на события, происходящие в системе. Класс используется в презентере для обработки событий и в слоях приложения для генерации событий.  
Основные методы, реализуемые классом описаны интерфейсом `IEvents`:
- `on` - подписка на событие.
- `emit` - инициализация события.
- `trigger` - возвращает функцию, при вызове которой инициализируется требуемое в параметрах событие.

#### Класс Model
Базовая модель, чтобы можно было отличить ее от простых объектов с данными.
Методы:
- `emit` - сообщает всем, что модель поменялась.

#### Класс Component
Необходим для создания компонентов слоя представления. Предоставляет базовые методы для работы с HTML-элементами.
- toggleClass(element: HTMLElement, className: string, force?: boolean) - переключает класс элемента.
- protected setText(element: HTMLElement, value: unknown) - устанавливает текстовое содержимое элемента.
- setDisabled(element: HTMLElement, state: boolean) - изменяет статус блокировки элемента.
- setHidden(element: HTMLElement) - скрывает элемент.
- setVisible(element: HTMLElement) - показывает элемент
- protected setImage(element: HTMLImageElement, src: string, alt?: string) - устанавливает изображение с альтернативным текстом
- render(data?: Partial<T>): HTMLElement - возвращает корневой DOM-элемент

### Слой данных (Model)

#### Класс Product
Класс отвечает за описание товара.
В полях класса хранятся следующие данные:
- id: string - уникальный идентификатор товара.
- description: string - описание товара.
- image: string - ссылка на фотографию товара.
- title: string - название товара.
- category: string - категория товара.
- price: number | null - цена товара.